{"ast":null,"code":"import _slicedToArray from\"/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState/*, useEffect*/,useContext}from\"react\";import{userContext}from\"../../App\";import\"../../styles/Singin.css\";import{Link,useHistory}from\"react-router-dom\";import M from\"materialize-css\";import logo from\"../../images/logo.png\";var Login=function Login(){var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),mail=_useState2[0],setmail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var _useContext=useContext(userContext),dispatch=_useContext.dispatch;var PostData=function PostData(){fetch(\"https://exposicion-virtual.herokuapp.com/login/admin\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({\"password\":password,\"userName\":mail})}).then(function(res){if(!res.ok){M.toast({html:\"datos invalidos o el Administrador no existe\",classes:\"#c62828 red darken-3\"});}else{localStorage.setItem(\"user\",\"admin\");dispatch({type:\"USER\",payload:\"admin\"});M.toast({html:\"Ha iniciado como Administrador\",classes:\"#388e3c green darken-2\"});history.push(\"/\");}}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"mycard\"},/*#__PURE__*/React.createElement(\"div\",{id:\"fondoTarjetaLogin\",className:\"card auth-card input-field\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"logo\",className:\"logo-login\",src:logo}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"inputLogin\",placeholder:\"Ingrese usuario\",value:mail,onChange:function onChange(e){return setmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"inputLogin\",placeholder:\"Ingrese contrase\\xF1a\",value:password,onChange:function onChange(e){return setpassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{id:\"botonLogin\",className:\"btn waves-effect waves-light #64b5f6 red darken-1\",onClick:function onClick(){return PostData();}},\"Ingresar\"),/*#__PURE__*/React.createElement(\"h5\",{id:\"H5Register\"},/*#__PURE__*/React.createElement(Link,{id:\"linkRegister\",to:\"/login\"},\"Ingresar como usuario\"),/*#__PURE__*/React.createElement(\"tr\",null),/*#__PURE__*/React.createElement(Link,{id:\"linkRegister\",to:\"/register\"},\"Registrate ac\\xE1\"))));};export default Login;","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/routes/SinginAdmin.js"],"names":["React","useState","useContext","userContext","Link","useHistory","M","logo","Login","history","mail","setmail","password","setpassword","dispatch","PostData","fetch","method","headers","body","JSON","stringify","then","res","ok","toast","html","classes","localStorage","setItem","type","payload","push","catch","err","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState/*, useEffect*/, useContext } from \"react\";\nimport { userContext } from \"../../App\"\nimport \"../../styles/Singin.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport logo from \"../../images/logo.png\"\n\nconst Login = () => {\n  const history = useHistory();\n  const [mail, setmail] = useState(null);\n  const [password, setpassword] = useState(null);\n  const { /*state, */dispatch } = useContext(userContext);\n\n\n  const PostData = () => {\n    fetch(\"https://exposicion-virtual.herokuapp.com/login/admin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"userName\": mail\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          M.toast({ html: \"datos invalidos o el Administrador no existe\", classes: \"#c62828 red darken-3\" });\n        } else {\n          localStorage.setItem(\"user\", \"admin\");\n          dispatch({ type: \"USER\", payload: \"admin\" });\n          M.toast({\n            html: \"Ha iniciado como Administrador\",\n            classes: \"#388e3c green darken-2\",\n          });\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className=\"mycard\">\n      <div id=\"fondoTarjetaLogin\" className=\"card auth-card input-field\">\n        <img alt=\"logo\" className=\"logo-login\" src={logo} />\n        <input\n          type=\"text\"\n          id='inputLogin'\n          placeholder=\"Ingrese usuario\"\n          value={mail}\n          onChange={(e) => setmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          id='inputLogin'\n          placeholder=\"Ingrese contraseña\"\n          value={password}\n          onChange={(e) => setpassword(e.target.value)}\n        />\n        <button\n          id=\"botonLogin\"\n          className=\"btn waves-effect waves-light #64b5f6 red darken-1\"\n          onClick={() => PostData()}\n        >\n          Ingresar\n            </button>\n        <h5 id=\"H5Register\">\n          <Link id=\"linkRegister\" to=\"/login\">Ingresar como usuario</Link>\n          <tr />\n          <Link id=\"linkRegister\" to=\"/register\">Registrate acá</Link>\n        </h5>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}