{"ast":null,"code":"import _slicedToArray from\"/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import M from'materialize-css';import'../../styles/AddProveedor.css';import uploadImage from\"../CloudImageUpload\";import{postearAddEntity}from\"./FetchFunctions\";document.addEventListener('DOMContentLoaded',function(){var elems=document.querySelectorAll('.autocomplete');M.Autocomplete.init(elems,{});});var AddProduct=function AddProduct(props){var history=useHistory();var company=props.company;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),urlTemp=_useState4[0],setUrlTemp=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),itemName=_useState6[0],setitemName=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setdescription=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),images=_useState10[0],setimages=_useState10[1];//const [urlList, setUrlList] = useState(null)\nvar _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),stock=_useState12[0],setstock=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),itemPrice=_useState14[0],setitemPrice=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),promotionalPrice=_useState16[0],setpromotionalPrice=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),longitud=_useState18[0],setLongitud=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),alto=_useState20[0],setAlto=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),ancho=_useState22[0],setAncho=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),pesoGr=_useState24[0],setPesoGr=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),postear=_useState26[0],setpostear=_useState26[1];useEffect(function(){if(postear){console.log(urlTemp);//setUrl([...url, urlTemp])\n//setUrl(currentUrl => currentUrl.concat(urlTemp))\n//setUrl([urlTemp])\n//console.log(url)\npostearAdd();}},[urlTemp]);var subirYPostearAdd=function subirYPostearAdd(e){e.preventDefault();//var url = []\n/*\n        if (images && images.length >= 0) {\n          for (let index = 0; index < images.length; index++) {\n            const image = images[index];\n    */if(images!==null){console.log(images[0]);uploadImage({image:images[0],fx:setUrlTemp});// while (!urlTemp) {  }\n//listimages.push(url)\n// if (index === (images.length - 1)) {\n//setUrlList(listimages);\n//setUrl(listimages)\n//postearAdd(url);\nsetpostear(true);}else{M.toast({html:\"Cargar una imagen para el producto\",classes:\"#c62828 red darken-3\"});}/*}\n  }\n  for (let index = 0; index < listimages.length; index++) {\n    console.log(listimages[index]);\n  }*/};var postearAdd=function postearAdd(){console.log(urlTemp);var imagesToSave=[urlTemp];console.log(imagesToSave);console.log(itemName);console.log(stock);console.log(itemPrice);console.log(promotionalPrice);console.log(pesoGr);console.log(longitud);console.log(alto);console.log(ancho);// console.log(url);\n//  console.log(url.length > 0);\n//  console.log(url.length);\nconsole.log(\"entreaPostearAdd\");var someNull=url.some(function(el){return el===null;});//   console.log(someNull);\nif(itemName&&description&&stock&&itemPrice&&promotionalPrice&&!someNull&&longitud&&ancho&&alto&&pesoGr&&imagesToSave.length>0){postearAddEntity({historyProp:history,entityClass:\"products\",atributes:{\"idProveedor\":company.id,\"itemName\":itemName,\"description\":description,\"images\":imagesToSave,\"stock\":stock,\"vendidos\":0,\"itemPrice\":itemPrice,\"promotionalPrice\":promotionalPrice,\"longitud\":longitud,\"ancho\":ancho,\"alto\":alto,\"pesoGr\":pesoGr}});}else{M.toast({html:\"Llenar todos los campos\",classes:\"#c62828 red darken-3\"});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col s12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{value:company.companyName,required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Nombre_de_la_Empresa\"},\"Nombre de la empresa\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s6\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Nombre_del_Producto\",onChange:function onChange(e){return setitemName(e.target.value);},type:\"text\",className:\"validate\",required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Nombre_del_Producto\"},\"Nombre del producto\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s6\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Descripci\\xF3n\",onChange:function onChange(e){return setdescription(e.target.value);},type:\"text\",className:\"validate\",required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Descripci\\xF3n\"},\"Descripci\\xF3n\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s3\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Stock\",type:\"number\",onChange:function onChange(e){return setstock(e.target.value>0?e.target.value:1);},className:\"validate\",value:stock}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Stock\"},\"Stock\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s3\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Precio\",onChange:function onChange(e){return setitemPrice(e.target.value);},type:\"number\",className:\"validate\",required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Precio\"},\"Precio\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s3\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Precio_promocional\",onChange:function onChange(e){return setpromotionalPrice(e.target.value);},type:\"number\",className:\"validate\",required:true}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Precio_promocional\"},\"Precio promocional\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s2\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Longitud\",type:\"number\",onChange:function onChange(e){return setLongitud(e.target.value>0?e.target.value:1);},className:\"validate\",value:longitud}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Longitud\"},\"Longitud (cm)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s2\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Ancho\",type:\"number\",onChange:function onChange(e){return setAncho(e.target.value>0?e.target.value:1);},className:\"validate\",value:ancho}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Ancho\"},\"Ancho (cm)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s2\"},/*#__PURE__*/React.createElement(\"input\",{id:\"Alto\",type:\"number\",onChange:function onChange(e){return setAlto(e.target.value>0?e.target.value:1);},className:\"validate\",value:alto}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"Alto\"},\"Alto (cm)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s2\"},/*#__PURE__*/React.createElement(\"input\",{id:\"PesoGr\",type:\"number\",onChange:function onChange(e){return setPesoGr(e.target.value>0?e.target.value:1);},className:\"validate\",value:pesoGr}),/*#__PURE__*/React.createElement(\"label\",{className:\"active\",for:\"PesoGr\"},\"Peso (gramos)\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"}),/*#__PURE__*/React.createElement(\"form\",{action:\"#\"},/*#__PURE__*/React.createElement(\"select\",{type:\"hidden\"},url.map(function(image){return/*#__PURE__*/React.createElement(\"option\",{key:image.toString},image);})),/*#__PURE__*/React.createElement(\"div\",{className:\"file-field input-field\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn\",id:\"buttonUploadImages\"},/*#__PURE__*/React.createElement(\"span\",null,\"Cargar imagenes\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",onChange:function onChange(e){return setimages(e.target.files);},multiple:true,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"file-path-wrapper\"},/*#__PURE__*/React.createElement(\"input\",{className:\"file-path validate\",type:\"text\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){subirYPostearAdd(e);},className:\"waves-effect waves-light red lighten-2 btn-large\",id:\"butonSubmit\"},\"Agregar Producto\")))));};export default AddProduct;","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/AddProductForm.js"],"names":["React","useEffect","useState","useHistory","M","uploadImage","postearAddEntity","document","addEventListener","elems","querySelectorAll","Autocomplete","init","AddProduct","props","history","company","url","setUrl","urlTemp","setUrlTemp","itemName","setitemName","description","setdescription","images","setimages","stock","setstock","itemPrice","setitemPrice","promotionalPrice","setpromotionalPrice","longitud","setLongitud","alto","setAlto","ancho","setAncho","pesoGr","setPesoGr","postear","setpostear","console","log","postearAdd","subirYPostearAdd","e","preventDefault","image","fx","toast","html","classes","imagesToSave","someNull","some","el","length","historyProp","entityClass","atributes","id","companyName","target","value","map","toString","files"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport M from 'materialize-css'\nimport '../../styles/AddProveedor.css'\nimport uploadImage from \"../CloudImageUpload\";\nimport { postearAddEntity } from \"./FetchFunctions\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('.autocomplete');\n  M.Autocomplete.init(elems, {});\n});\n\nconst AddProduct = (props) => {\n  const history = useHistory();\n  const company = props.company\n  const [url, setUrl] = useState([]);\n  const [urlTemp, setUrlTemp] = useState(null)\n  const [itemName, setitemName] = useState(null)\n  const [description, setdescription] = useState(null)\n  const [images, setimages] = useState(null)\n  //const [urlList, setUrlList] = useState(null)\n  const [stock, setstock] = useState(null)\n  const [itemPrice, setitemPrice] = useState(null)\n  const [promotionalPrice, setpromotionalPrice] = useState(null)\n  const [longitud, setLongitud] = useState(null)\n  const [alto, setAlto] = useState(null)\n  const [ancho, setAncho] = useState(null)\n  const [pesoGr, setPesoGr] = useState(null)\n  const [postear, setpostear] = useState(false)\n\n  useEffect(() => {\n    if (postear) {\n      console.log(urlTemp)\n      //setUrl([...url, urlTemp])\n      //setUrl(currentUrl => currentUrl.concat(urlTemp))\n      //setUrl([urlTemp])\n      //console.log(url)\n      postearAdd();\n    }\n  }, [urlTemp]);\n\n  const subirYPostearAdd = (e) => {\n    e.preventDefault();\n    //var url = []\n    /*\n        if (images && images.length >= 0) {\n          for (let index = 0; index < images.length; index++) {\n            const image = images[index];\n    */\n    if (images !== null) {\n      console.log(images[0])\n      uploadImage({ image: images[0], fx: setUrlTemp });\n      // while (!urlTemp) {  }\n      //listimages.push(url)\n\n      // if (index === (images.length - 1)) {\n      //setUrlList(listimages);\n      //setUrl(listimages)\n      //postearAdd(url);\n      setpostear(true);\n    } else {\n\n      M.toast({ html: \"Cargar una imagen para el producto\", classes: \"#c62828 red darken-3\" });\n    }\n    /*}\n  }\n  for (let index = 0; index < listimages.length; index++) {\n    console.log(listimages[index]);\n  }*/\n  };\n\n  const postearAdd = () => {\n    console.log(urlTemp)\n    const imagesToSave = [urlTemp]\n    console.log(imagesToSave)\n    console.log(itemName);\n    console.log(stock);\n    console.log(itemPrice);\n    console.log(promotionalPrice);\n    console.log(pesoGr);\n    console.log(longitud);\n    console.log(alto);\n    console.log(ancho);\n    // console.log(url);\n    //  console.log(url.length > 0);\n    //  console.log(url.length);\n    console.log(\"entreaPostearAdd\")\n\n    var someNull = url.some(function (el) {\n      return el === null;\n    });\n\n\n    //   console.log(someNull);\n\n\n    if (itemName && description && stock && itemPrice && promotionalPrice && !someNull && longitud\n      && ancho && alto && pesoGr && imagesToSave.length > 0) {\n      postearAddEntity({\n        historyProp: history, entityClass: \"products\", atributes: {\n          \"idProveedor\": company.id,\n          \"itemName\": itemName,\n          \"description\": description,\n          \"images\": imagesToSave,\n          \"stock\": stock,\n          \"vendidos\": 0,\n          \"itemPrice\": itemPrice,\n          \"promotionalPrice\": promotionalPrice,\n          \"longitud\": longitud,\n          \"ancho\": ancho,\n          \"alto\": alto,\n          \"pesoGr\": pesoGr\n        }\n      })\n    } else {\n\n      M.toast({ html: \"Llenar todos los campos\", classes: \"#c62828 red darken-3\" });\n    }\n  };\n\n  return (\n    <div className=\"row\">\n      <form className=\"col s12\">\n        <div className=\"row\">\n          <div className=\"input-field col s12\">\n            <input value={company.companyName} required />\n            <label className=\"active\" for=\"Nombre_de_la_Empresa\">Nombre de la empresa</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"input-field col s6\">\n            <input\n              id=\"Nombre_del_Producto\" onChange={(e) => setitemName(e.target.value)} type=\"text\" className=\"validate\" required />\n            <label className=\"active\" for=\"Nombre_del_Producto\">Nombre del producto</label>\n          </div>\n          <div className=\"input-field col s6\">\n            <input id=\"Descripción\" onChange={(e) => setdescription(e.target.value)} type=\"text\" className=\"validate\" required />\n            <label className=\"active\" for=\"Descripción\">Descripción</label>\n          </div>\n          <div className=\"input-field col s3\">\n            <input id=\"Stock\" type=\"number\" onChange={(e) => setstock(e.target.value > 0 ? e.target.value : 1)} className=\"validate\" value={stock} />\n            <label className=\"active\" for=\"Stock\">Stock</label>\n          </div>\n          <div className=\"input-field col s3\">\n            <input id=\"Precio\" onChange={(e) => setitemPrice(e.target.value)} type=\"number\" className=\"validate\" required />\n            <label className=\"active\" for=\"Precio\">Precio</label>\n          </div>\n          <div className=\"input-field col s3\">\n            <input id=\"Precio_promocional\" onChange={(e) => setpromotionalPrice(e.target.value)} type=\"number\" className=\"validate\" required />\n            <label className=\"active\" for=\"Precio_promocional\">Precio promocional</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"input-field col s2\">\n            <input id=\"Longitud\" type=\"number\" onChange={(e) => setLongitud(e.target.value > 0 ? e.target.value : 1)} className=\"validate\" value={longitud} />\n            <label className=\"active\" for=\"Longitud\">Longitud (cm)</label>\n          </div>\n          <div className=\"input-field col s2\">\n            <input id=\"Ancho\" type=\"number\" onChange={(e) => setAncho(e.target.value > 0 ? e.target.value : 1)} className=\"validate\" value={ancho} />\n            <label className=\"active\" for=\"Ancho\">Ancho (cm)</label>\n          </div>\n          <div className=\"input-field col s2\">\n            <input id=\"Alto\" type=\"number\" onChange={(e) => setAlto(e.target.value > 0 ? e.target.value : 1)} className=\"validate\" value={alto} />\n            <label className=\"active\" for=\"Alto\">Alto (cm)</label>\n          </div>\n          <div className=\"input-field col s2\">\n            <input id=\"PesoGr\" type=\"number\" onChange={(e) => setPesoGr(e.target.value > 0 ? e.target.value : 1)} className=\"validate\" value={pesoGr} />\n            <label className=\"active\" for=\"PesoGr\">Peso (gramos)</label>\n          </div>\n        </div>\n        <div className=\"row\">\n        </div>\n        <form action=\"#\">\n          <select type=\"hidden\">\n            {url.map(image => {\n              return (<option key={image.toString}>{image}</option>)\n            })}\n          </select>\n          <div className=\"file-field input-field\">\n            <div className=\"btn\" id='buttonUploadImages'>\n              <span>Cargar imagenes</span>\n              <input type=\"file\" onChange={(e) => setimages(e.target.files)} multiple required />\n            </div>\n            <div className=\"file-path-wrapper\">\n              <input className=\"file-path validate\" type=\"text\" />\n            </div>\n          </div>\n        </form>\n        <div className=\"row\">\n          <div className=\"col s12\">\n            <button onClick={(e) => {\n              subirYPostearAdd(e)\n            }} className=\"waves-effect waves-light red lighten-2 btn-large\" id=\"butonSubmit\">Agregar Producto</button>\n          </div>\n        </div>\n      </form>\n    </div >\n  );\n};\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}