{"ast":null,"code":"import _slicedToArray from\"/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect/*, useRef*/}from'react';import{useHistory}from'react-router-dom';import AdminProductSearchBar from'../AdminProductSearchBar';import CardProductwFx from'./CardProductwFx';import{postearGetEntity,postearDeleteEntity}from'../AdminPanel/FetchFunctions';var ListOfProductToDelete=function ListOfProductToDelete(props){var company=props.company;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setproducts=_useState2[1];//  const [prevProducts, setprevProducts] = useState([])\nuseEffect(function(){if(products.length===0){postearGetEntity({entityClass:\"products/supplier/\".concat(company.id),fx:setproducts});}},[]);var deleteProduct=function deleteProduct(id){postearDeleteEntity({historyProp:history,entityClass:\"products\",id:id});//setproducts([]);\n};var doDeleteProduct=function doDeleteProduct(products,product){//  setprevProducts(products)\ndeleteProduct(product.id);};var listOfProducts=function listOfProducts(){if(products){return/*#__PURE__*/React.createElement(CardProductwFx,{prs:products,fx:doDeleteProduct,icon:\"delete\"});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(AdminProductSearchBar,null),/*#__PURE__*/React.createElement(\"div\",null,!products?/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\"):listOfProducts()));};export default ListOfProductToDelete;","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/ListOfProductToDelete.js"],"names":["React","useState","useEffect","useHistory","AdminProductSearchBar","CardProductwFx","postearGetEntity","postearDeleteEntity","ListOfProductToDelete","props","company","history","products","setproducts","length","entityClass","id","fx","deleteProduct","historyProp","doDeleteProduct","product","listOfProducts"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAAS,YAAnC,KAAuD,OAAvD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,0BAAlC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,gBAAT,CAA2BC,mBAA3B,KAAsD,8BAAtD,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,KAAD,CAAW,CACvC,GAAMC,CAAAA,OAAO,CAAGD,KAAK,CAACC,OAAtB,CACA,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAFuC,cAGPF,QAAQ,CAAC,EAAD,CAHD,wCAGhCW,QAHgC,eAGtBC,WAHsB,eAIzC;AAEEX,SAAS,CAAC,UAAM,CACd,GAAIU,QAAQ,CAACE,MAAT,GAAoB,CAAxB,CAA2B,CACzBR,gBAAgB,CAAC,CACfS,WAAW,6BAAuBL,OAAO,CAACM,EAA/B,CADI,CACiCC,EAAE,CAAEJ,WADrC,CAAD,CAAhB,CAGD,CACF,CANQ,CAMN,EANM,CAAT,CAQA,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACF,EAAD,CAAQ,CAC5BT,mBAAmB,CAAC,CAClBY,WAAW,CAAER,OADK,CACII,WAAW,CAAE,UADjB,CAC6BC,EAAE,CAAEA,EADjC,CAAD,CAAnB,CAGA;AACD,CALD,CAOA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACR,QAAD,CAAWS,OAAX,CAAuB,CAC/C;AACEH,aAAa,CAACG,OAAO,CAACL,EAAT,CAAb,CACD,CAHD,CAKA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAIV,QAAJ,CAAc,CACZ,mBAAQ,oBAAC,cAAD,EAAgB,GAAG,CAAEA,QAArB,CAA+B,EAAE,CAAEQ,eAAnC,CAAoD,IAAI,CAAC,QAAzD,EAAR,CACD,CACF,CAJD,CAMA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,qBAAD,MADF,cAEE,+BAEI,CAACR,QAAD,cACE,0CADF,CAGEU,cAAc,EALpB,CAFF,CADF,CAaD,CA7CD,CA+CA,cAAed,CAAAA,qBAAf","sourcesContent":["import React, { useState, useEffect/*, useRef*/ } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport AdminProductSearchBar from '../AdminProductSearchBar'\nimport CardProductwFx from './CardProductwFx';\nimport { postearGetEntity, postearDeleteEntity } from '../AdminPanel/FetchFunctions';\n\nconst ListOfProductToDelete = (props) => {\n  const company = props.company\n  const history = useHistory()\n  const [products, setproducts] = useState([])\n//  const [prevProducts, setprevProducts] = useState([])\n\n  useEffect(() => {\n    if (products.length === 0) {\n      postearGetEntity({\n        entityClass: `products/supplier/${company.id}`, fx: setproducts\n      });\n    }\n  }, [])\n\n  const deleteProduct = (id) => {\n    postearDeleteEntity({\n      historyProp: history, entityClass: \"products\", id: id\n    });\n    //setproducts([]);\n  }\n\n  const doDeleteProduct = (products, product) => {\n  //  setprevProducts(products)\n    deleteProduct(product.id)\n  }\n\n  const listOfProducts = () => {\n    if (products) {\n      return (<CardProductwFx prs={products} fx={doDeleteProduct} icon='delete' />)\n    }\n  }\n\n  return (\n    <div className=\"row\">\n      <AdminProductSearchBar />\n      <div>\n        {\n          !products ?\n            <p>Loading...</p>\n            :\n            listOfProducts()\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default ListOfProductToDelete;"]},"metadata":{},"sourceType":"module"}