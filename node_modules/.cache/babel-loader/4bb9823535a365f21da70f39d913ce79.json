{"ast":null,"code":"import _slicedToArray from\"/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useEffect,useState}from\"react\";import{useHistory/*, Link */}from\"react-router-dom\";import M from'materialize-css';import'../../styles/AddProveedor.css';import AdminOptions from'../AdminOptions';import BannerCategories from'../BannerCategories';import uploadImage from\"../CloudImageUpload\";import{postearAddEntity}from\"./FetchFunctions\";document.addEventListener('DOMContentLoaded',function(){var elems=document.querySelectorAll('.autocomplete');M.Autocomplete.init(elems,{});});var AddBanner=function AddBanner(){var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),urlTemp=_useState4[0],setUrlTemp=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setimage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setcategory=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),postear=_useState10[0],setpostear=_useState10[1];useEffect(function(){if(postear){postearAdd();}},[url]);var agregarBanner=function agregarBanner(e){e.preventDefault();var asubir=image;console.log(asubir);uploadImage({image:asubir,fx:setUrl});setpostear(true);//setUrl(urlTemp)\nconsole.log(url);};var postearAdd=function postearAdd(){if(image&&category){postearAddEntity({historyProp:history,entityClass:\"banners\",atributes:{\"banner\":url,\"category\":category}});}else{M.toast({html:\"Llenar todos los campos\",classes:\"#c62828 red darken-3\"});}};var loadCategories=function loadCategories(){var categories=[\"HOME\",\"SCHEDULE\",\"CLASS\",\"COURRIER\",\"PAYMENTMETHODS\"];categories.sort();addOptions(\"Category\",categories);};var addOptions=function addOptions(idElement,array){var select=document.getElementsById(idElement)[0];array.forEach(function(element){var option=document.createElement(\"option\");option.text=array[element];select.add(option);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(AdminOptions,null),/*#__PURE__*/React.createElement(\"div\",{className:\"col s8\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\",onLoad:loadCategories},/*#__PURE__*/React.createElement(\"form\",{class:\"col s12\",id:\"bannerform\"},/*#__PURE__*/React.createElement(BannerCategories,{val:category,fx:setcategory}),/*#__PURE__*/React.createElement(\"form\",{action:\"#\"},/*#__PURE__*/React.createElement(\"div\",{class:\"file-field input-field\"},/*#__PURE__*/React.createElement(\"div\",{class:\"btn\",id:\"buttonUploadImages\"},/*#__PURE__*/React.createElement(\"span\",null,\"Cargar imagen\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",onChange:function onChange(e){return setimage(e.target.files[0]);}})),/*#__PURE__*/React.createElement(\"div\",{class:\"file-path-wrapper\"},/*#__PURE__*/React.createElement(\"input\",{class:\"file-path validate\",type:\"text\",value:url})))),/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col s12\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){agregarBanner(e);if(image&&category&&url){postearAdd();}},class:\"waves-effect waves-light red lighten-2 btn-large\",id:\"butonSubmit\"},\"Agregar Banner\")))))));};export default AddBanner;","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/AddBanner.js"],"names":["React","useEffect","useState","useHistory","M","AdminOptions","BannerCategories","uploadImage","postearAddEntity","document","addEventListener","elems","querySelectorAll","Autocomplete","init","AddBanner","history","url","setUrl","urlTemp","setUrlTemp","image","setimage","category","setcategory","postear","setpostear","postearAdd","agregarBanner","e","preventDefault","asubir","console","log","fx","historyProp","entityClass","atributes","toast","html","classes","loadCategories","categories","sort","addOptions","idElement","array","select","getElementsById","forEach","element","option","createElement","text","add","target","files"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory/*, Link */ } from \"react-router-dom\";\nimport M from 'materialize-css'\nimport '../../styles/AddProveedor.css'\nimport AdminOptions from '../AdminOptions';\nimport BannerCategories from '../BannerCategories';\nimport uploadImage from \"../CloudImageUpload\";\nimport { postearAddEntity } from \"./FetchFunctions\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('.autocomplete');\n  M.Autocomplete.init(elems, {});\n});\n\nconst AddBanner = () => {\n  const history = useHistory();\n  const [url, setUrl] = useState(null);\n  const [urlTemp, setUrlTemp] = useState(null);\n  const [image, setimage] = useState(null)\n  const [category, setcategory] = useState(null)\n  const [postear, setpostear] = useState(false)\n\n  useEffect(() => {\n    if (postear) {\n      postearAdd();\n    }\n  },[url]);\n\n  const agregarBanner = (e) => {\n    e.preventDefault();\n    const asubir = image;\n    console.log(asubir)\n    uploadImage({ image: asubir, fx: setUrl });\n    setpostear(true);\n    //setUrl(urlTemp)\n    console.log(url)\n\n  }\n\n  const postearAdd = () => {\n    if (image && category) {\n      postearAddEntity({\n        historyProp: history, entityClass: \"banners\", atributes: {\n          \"banner\": url,\n          \"category\": category\n        }\n      });\n    } else {\n      M.toast({ html: \"Llenar todos los campos\", classes: \"#c62828 red darken-3\" });\n    }\n  };\n\n  const loadCategories = () => {\n    var categories = [\"HOME\", \"SCHEDULE\", \"CLASS\", \"COURRIER\", \"PAYMENTMETHODS\"];\n    categories.sort();\n    addOptions(\"Category\", categories);\n  }\n\n  const addOptions = (idElement, array) => {\n    var select = document.getElementsById(idElement)[0];\n    array.forEach(element => {\n      var option = document.createElement(\"option\");\n      option.text = array[element];\n      select.add(option);\n    });\n  }\n\n  return (\n    <div className=\"row\">\n      <AdminOptions />\n      <div className='col s8'>\n        <div class=\"row\" onLoad={loadCategories}>\n          <form class=\"col s12\" id=\"bannerform\">\n            <BannerCategories val={category} fx={setcategory} />\n            <form action=\"#\">\n              <div class=\"file-field input-field\">\n                <div class=\"btn\" id='buttonUploadImages'>\n                  <span>Cargar imagen</span>\n                  <input type=\"file\" onChange={(e) => setimage(e.target.files[0])} />\n                </div>\n                <div class=\"file-path-wrapper\">\n                  <input class=\"file-path validate\" type=\"text\" value={url} />\n                </div>\n              </div>\n            </form>\n            <div class=\"row\">\n              <div class=\"col s12\">\n                <button onClick={() => {\n                  agregarBanner(e);\n                  if (image &&\n                    category && url) {\n                    postearAdd();\n                  }\n                }} class=\"waves-effect waves-light red lighten-2 btn-large\" id=\"butonSubmit\">Agregar Banner</button>\n              </div>\n            </div>\n\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddBanner;\n"]},"metadata":{},"sourceType":"module"}