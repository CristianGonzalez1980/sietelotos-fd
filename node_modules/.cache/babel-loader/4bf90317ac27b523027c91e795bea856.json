{"ast":null,"code":"import _slicedToArray from\"/home/cristian/Documentos/ProyectosGIT/exposicion-virtual-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'../../styles/DeleteProveedor.css';import{useHistory}from\"react-router-dom\";import AdminOptions from\"../AdminOptions\";import CardProviderwFx from'./CardProviderwFx';import AdminProveedorSearchBar from'../AdminProveedorSearchBar';import{postearDeleteEntity,postearGetEntity}from'../AdminPanel/FetchFunctions';var DeleteProveedor=function DeleteProveedor(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setsearch=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),deleteCompanyAction=_useState6[0],setDeleteCompanyAction=_useState6[1];useEffect(function(){postearGetEntity({entityClass:\"companies\",fx:setCompanies});},[search,deleteCompanyAction]);var deleteCompany=function deleteCompany(provider){postearDeleteEntity({historyProp:history,entityClass:\"companies\",id:provider.id});setDeleteCompanyAction(-deleteCompanyAction);};var filterCompanies=function filterCompanies(){var mycompanies=[];companies.forEach(function(element){if(element.companyName.toLowerCase().includes(search.toLowerCase())){mycompanies.push(element);}});return/*#__PURE__*/React.createElement(CardProviderwFx,{cp:mycompanies,fx:deleteCompany,icon:\"delete\"});};var listOfCompanies=function listOfCompanies(){if(companies){return/*#__PURE__*/React.createElement(CardProviderwFx,{cp:companies,fx:deleteCompany,icon:\"delete\"});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(AdminOptions,null),/*#__PURE__*/React.createElement(\"div\",{className:\"col s8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(AdminProveedorSearchBar,{fx:setsearch,val:search}),/*#__PURE__*/React.createElement(\"div\",null,!companies?/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\"):search?filterCompanies():listOfCompanies()))));};export default DeleteProveedor;","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicion-virtual-frontend/src/components/AdminPanel/DeleteProveedor.js"],"names":["React","useState","useEffect","useHistory","AdminOptions","CardProviderwFx","AdminProveedorSearchBar","postearDeleteEntity","postearGetEntity","DeleteProveedor","history","companies","setCompanies","search","setsearch","deleteCompanyAction","setDeleteCompanyAction","entityClass","fx","deleteCompany","provider","historyProp","id","filterCompanies","mycompanies","forEach","element","companyName","toLowerCase","includes","push","listOfCompanies"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,kCAAP,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,4BAApC,CACA,OAASC,mBAAT,CAA8BC,gBAA9B,KAAsD,8BAAtD,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAD4B,cAEMF,QAAQ,CAAC,EAAD,CAFd,wCAErBU,SAFqB,eAEVC,YAFU,8BAGAX,QAAQ,CAAC,IAAD,CAHR,yCAGrBY,MAHqB,eAGbC,SAHa,8BAI0Bb,QAAQ,CAAC,KAAD,CAJlC,yCAIrBc,mBAJqB,eAIAC,sBAJA,eAM5Bd,SAAS,CAAC,UAAM,CACdM,gBAAgB,CAAC,CACfS,WAAW,CAAE,WADE,CACWC,EAAE,CAAEN,YADf,CAAD,CAAhB,CAGD,CAJQ,CAIN,CAACC,MAAD,CAASE,mBAAT,CAJM,CAAT,CAMA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,QAAD,CAAc,CAClCb,mBAAmB,CAAC,CAClBc,WAAW,CAAEX,OADK,CACIO,WAAW,CAAE,WADjB,CAC8BK,EAAE,CAAEF,QAAQ,CAACE,EAD3C,CAAD,CAAnB,CAGAN,sBAAsB,CAAC,CAACD,mBAAF,CAAtB,CACD,CALD,CAOA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACAb,SAAS,CAACc,OAAV,CAAkB,SAAAC,OAAO,CAAI,CAC3B,GAAIA,OAAO,CAACC,WAAR,CAAoBC,WAApB,GAAkCC,QAAlC,CAA2ChB,MAAM,CAACe,WAAP,EAA3C,CAAJ,CAAsE,CACpEJ,WAAW,CAACM,IAAZ,CAAiBJ,OAAjB,EACD,CACF,CAJD,EAKA,mBAAQ,oBAAC,eAAD,EAAiB,EAAE,CAAEF,WAArB,CAAkC,EAAE,CAAEL,aAAtC,CAAqD,IAAI,CAAC,QAA1D,EAAR,CACD,CARD,CAUA,GAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAIpB,SAAJ,CAAe,CACb,mBAAQ,oBAAC,eAAD,EAAiB,EAAE,CAAEA,SAArB,CAAgC,EAAE,CAAEQ,aAApC,CAAmD,IAAI,CAAC,QAAxD,EAAR,CACD,CACF,CAJD,CAMA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,YAAD,MADF,cAEE,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,uBAAD,EAAyB,EAAE,CAAEL,SAA7B,CAAwC,GAAG,CAAED,MAA7C,EADF,cAEE,+BAEI,CAACF,SAAD,cACE,0CADF,CAGEE,MAAM,CACJU,eAAe,EADX,CAGJQ,eAAe,EARvB,CAFF,CADF,CAFF,CADF,CAqBD,CAxDD,CA0DA,cAAetB,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport '../../styles/DeleteProveedor.css'\nimport { useHistory } from \"react-router-dom\"\nimport AdminOptions from \"../AdminOptions\";\nimport CardProviderwFx from './CardProviderwFx';\nimport AdminProveedorSearchBar from '../AdminProveedorSearchBar';\nimport { postearDeleteEntity, postearGetEntity } from '../AdminPanel/FetchFunctions'\n\nconst DeleteProveedor = () => {\n  const history = useHistory()\n  const [companies, setCompanies] = useState([])\n  const [search, setsearch] = useState(null)\n  const [deleteCompanyAction, setDeleteCompanyAction] = useState(false)\n\n  useEffect(() => {\n    postearGetEntity({\n      entityClass: \"companies\", fx: setCompanies\n    });\n  }, [search, deleteCompanyAction])\n\n  const deleteCompany = (provider) => {\n    postearDeleteEntity({\n      historyProp: history, entityClass: \"companies\", id: provider.id\n    });\n    setDeleteCompanyAction(-deleteCompanyAction)\n  }\n\n  const filterCompanies = () => {\n    let mycompanies = []\n    companies.forEach(element => {\n      if (element.companyName.toLowerCase().includes(search.toLowerCase())) {\n        mycompanies.push(element)\n      }\n    });\n    return (<CardProviderwFx cp={mycompanies} fx={deleteCompany} icon='delete' />)\n  }\n\n  const listOfCompanies = () => {\n    if (companies) {\n      return (<CardProviderwFx cp={companies} fx={deleteCompany} icon='delete' />)\n    }\n  }\n\n  return (\n    <div className=\"row\">\n      <AdminOptions />\n      <div className='col s8'>\n        <div className=\"row\">\n          <AdminProveedorSearchBar fx={setsearch} val={search} />\n          <div>\n            {\n              !companies ?\n                <p>Loading...</p>\n                :\n                search ?\n                  filterCompanies()\n                  :\n                  listOfCompanies()\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default DeleteProveedor;"]},"metadata":{},"sourceType":"module"}