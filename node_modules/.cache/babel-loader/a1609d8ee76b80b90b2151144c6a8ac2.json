{"ast":null,"code":"var _jsxFileName = \"/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/DeleteBanner.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../../styles/DeleteBanner.css';\nimport {\n/*Link,*/\nuseHistory } from 'react-router-dom';\nimport M from 'materialize-css';\nimport AdminOptions from '../AdminOptions';\nimport BannerCategories from '../BannerCategories';\nimport { postearDeleteEntity, postearGetEntity } from '../AdminPanel/FetchFunctions';\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('select');\n  M.FormSelect.init(elems, {});\n});\n\nconst DeleteBanner = () => {\n  _s();\n\n  const history = useHistory();\n  const [prevBanners, setPrevBanners] = useState([]);\n  const [banners, setBanners] = useState([]);\n  const [category, setcategory] = useState(null);\n\n  const saveBannerHistory = gettedBaners => {\n    setPrevBanners(banners);\n    setBanners(gettedBaners);\n  };\n\n  useEffect(() => {\n    if (banners.length !== prevBanners.length || prevBanners.length === 0) {\n      //cargaba los banners constantemente\n      postearGetEntity({\n        entityClass: \"banners\",\n        fx: saveBannerHistory\n      });\n    }\n  }, [banners, prevBanners]);\n\n  const deleteBanner = id => {\n    postearDeleteEntity({\n      historyProp: history,\n      entityClass: \"banners\",\n      id: id\n    });\n  };\n\n  const listOfBanners = category => {\n    if (banners) {\n      const bannersByCategory = banners.filter(banner => banner.category === category);\n      const list = bannersByCategory.map(banner => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col s1\",\n          id: \"colCard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card\",\n          id: \"cardDeleteBD\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-image\",\n          id: \"imageDB\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"bannerImage\",\n          src: banner.image,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => {\n            deleteBanner(banner.id);\n          },\n          className: \"btn-floating halfway-fab waves-effect waves-light red\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"material-icons\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 88\n          }\n        }, \"delete\"))))));\n      });\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, list));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AdminOptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, !banners ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"col s12\",\n    id: \"bannerform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BannerCategories, {\n    val: category,\n    fx: setcategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  })), listOfBanners(category)))));\n};\n\n_s(DeleteBanner, \"cbs3S/hknGoeQ1ZLjQ4S4ZcW4p0=\", false, function () {\n  return [useHistory];\n});\n\n_c = DeleteBanner;\nexport default DeleteBanner;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteBanner\");","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/DeleteBanner.js"],"names":["React","useState","useEffect","useHistory","M","AdminOptions","BannerCategories","postearDeleteEntity","postearGetEntity","document","addEventListener","elems","querySelectorAll","FormSelect","init","DeleteBanner","history","prevBanners","setPrevBanners","banners","setBanners","category","setcategory","saveBannerHistory","gettedBaners","length","entityClass","fx","deleteBanner","id","historyProp","listOfBanners","bannersByCategory","filter","banner","list","map","image"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport '../../styles/DeleteBanner.css'\nimport { /*Link,*/ useHistory } from 'react-router-dom'\nimport M from 'materialize-css'\nimport AdminOptions from '../AdminOptions';\nimport BannerCategories from '../BannerCategories';\nimport { postearDeleteEntity, postearGetEntity } from '../AdminPanel/FetchFunctions'\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('select');\n  M.FormSelect.init(elems, {});\n});\n\nconst DeleteBanner = () => {\n  const history = useHistory()\n  const [prevBanners, setPrevBanners] = useState([])\n  const [banners, setBanners] = useState([])\n  const [category, setcategory] = useState(null)\n\n  const saveBannerHistory = (gettedBaners) => {\n    setPrevBanners(banners)\n    setBanners(gettedBaners)\n  }\n\n  useEffect(() => {\n    if (banners.length !== prevBanners.length || prevBanners.length === 0) {//cargaba los banners constantemente\n      postearGetEntity({\n        entityClass: \"banners\", fx: saveBannerHistory\n      });\n    }\n  }, [banners, prevBanners]);\n\n  const deleteBanner = (id) => {\n    postearDeleteEntity({ historyProp: history, entityClass: \"banners\", id: id });\n  }\n\n  const listOfBanners = (category) => {\n    if (banners) {\n      const bannersByCategory = banners.filter(banner => banner.category === category)\n      const list = bannersByCategory.map((banner) => {\n        return (\n          <li>\n            <div className=\"col s1\" id='colCard'>\n              <div className=\"card\" id='cardDeleteBD'>\n                <div className=\"card-image\" id=\"imageDB\">\n                  <img alt=\"bannerImage\" src={banner.image} />\n                  <button onClick={() => {\n                    deleteBanner(banner.id)\n                  }} className=\"btn-floating halfway-fab waves-effect waves-light red\"><i className=\"material-icons\">delete</i></button>\n                </div>\n              </div>\n            </div>\n          </li>\n        )\n      })\n      return (\n        <ul>\n          <div className='row'>\n            {list}\n          </div>\n        </ul>\n      )\n    }\n  }\n\n  return (\n    <div className=\"row\">\n      <AdminOptions />\n      <div className='col s8'>\n        <div>\n          {\n            !banners ?\n              <p>Loading...</p>\n              :\n              <div className=\"row\">\n                <form className=\"col s12\" id=\"bannerform\">\n                  <BannerCategories val={category} fx={setcategory} />\n                </form>\n                {listOfBanners(category)}\n              </div>\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default DeleteBanner;"]},"metadata":{},"sourceType":"module"}