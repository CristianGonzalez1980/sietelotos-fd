{"ast":null,"code":"//import { useHistory } from \"react-router-dom\";\nimport M from 'materialize-css';\n\nconst postearUpdateEntity = props => {\n  const history = props.historyProp;\n  const entityClass = props.entityClass;\n  const entity = props.entity;\n  const atributes = props.atributes;\n  const apiServer = \"https://exposicion-virtual.herokuapp.com\";\n  console.log(entityClass);\n  fetch(`${apiServer}/${entityClass}/${entity.id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify(atributes)\n  })\n  /*\n    .then((res) => res.json())\n    .then((data) => {\n        if (!data.error) {\n            M.toast({\n                html: `${entityClass} modificado exitosamente`,\n                classes: \"#388e3c green darken-2\",\n            });\n            history.push(\"/admin\");\n        } else {\n            M.toast({\n                html: data.error, classes: \"#c62828 red darken-3\"\n            \n            PROBANDO LA OTRA VERSION YA QUE ESTE NO LEIA ERRORES VER AHORA!\n                */\n  .then(res => {\n    console.log(res);\n\n    if (res.ok) {\n      M.toast({\n        html: `${entityClass} modificado exitosamente`,\n        classes: \"#388e3c green darken-2\"\n      });\n      history.push(\"/admin\");\n    } else {\n      M.toast({\n        html: res.statusText,\n        classes: \"#c62828 red darken-3\"\n      });\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst postearAddEntity = props => {\n  const history = props.historyProp;\n  const entityClass = props.entityClass;\n  const atributes = props.atributes;\n  fetch(`${apiServer}/${entityClass}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\"\n    },\n    body: JSON.stringify(atributes)\n  }).then(res => res.json()).then(data => {\n    if (data.error) {\n      M.toast({\n        html: data.error,\n        classes: \"#c62828 red darken-3\"\n      });\n    } else {\n      M.toast({\n        html: `${entityClass} agregado exitosamente`,\n        classes: \"#388e3c green darken-2\"\n      });\n      history.push(\"/admin\");\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst postearDeleteEntity = props => {\n  const history = props.historyProp;\n  const entityClass = props.entityClass;\n  const id = props.id;\n  fetch(`${apiServer}/${entityClass}/${id}`, {\n    method: 'DELETE',\n    headers: {}\n  }).then(res => res.json()).then(data => {\n    if (data.error) {\n      M.toast({\n        html: data.error,\n        classes: \"#c62828 red darken-3\"\n      });\n    } else {\n      M.toast({\n        html: `${entityClass} eliminado exitosamente`,\n        classes: \"#388e3c green darken-2\"\n      });\n      history.push(\"/admin\");\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst postearGetEntity = props => {\n  const entityClass = props.entityClass;\n  const functionD = props.fx;\n  fetch(`${apiServer}/${entityClass}`, {\n    headers: {}\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n  }).then(result => {\n    functionD(result);\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nexport { postearUpdateEntity, postearAddEntity, postearDeleteEntity, postearGetEntity };","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/FetchFunctions.js"],"names":["M","postearUpdateEntity","props","history","historyProp","entityClass","entity","atributes","apiServer","console","log","fetch","id","method","headers","body","JSON","stringify","then","res","ok","toast","html","classes","push","statusText","catch","err","postearAddEntity","json","data","error","postearDeleteEntity","postearGetEntity","functionD","fx","result"],"mappings":"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","sourcesContent":["//import { useHistory } from \"react-router-dom\";\nimport M from 'materialize-css'\n\nconst postearUpdateEntity = (props) => {\n    const history = props.historyProp\n    const entityClass = props.entityClass\n    const entity = props.entity\n    const atributes = props.atributes\n    const apiServer = \"https://exposicion-virtual.herokuapp.com\"\n\n    \n    console.log(entityClass)\n\n    fetch(`${apiServer}/${entityClass}/${entity.id}`, {\n        method: \"PUT\",\n        headers: {\n            \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(\n            atributes\n        )\n    })/*\n        .then((res) => res.json())\n        .then((data) => {\n            if (!data.error) {\n                M.toast({\n                    html: `${entityClass} modificado exitosamente`,\n                    classes: \"#388e3c green darken-2\",\n                });\n                history.push(\"/admin\");\n            } else {\n                M.toast({\n                    html: data.error, classes: \"#c62828 red darken-3\"\n                \n                PROBANDO LA OTRA VERSION YA QUE ESTE NO LEIA ERRORES VER AHORA!\n                    */\n        .then((res) => {\n            console.log(res)\n            if (res.ok) {\n                M.toast({\n                    html: `${entityClass} modificado exitosamente`,\n                    classes: \"#388e3c green darken-2\",\n                });\n                history.push(\"/admin\");\n            } else {\n                M.toast({ html: res.statusText, classes: \"#c62828 red darken-3\" });\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n};\n\nconst postearAddEntity = (props) => {\n    const history = props.historyProp\n    const entityClass = props.entityClass\n    const atributes = props.atributes\n\n    fetch(`${apiServer}/${entityClass}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(\n            atributes\n        )\n    })\n        .then((res) => res.json())\n        .then((data) => {\n            if (data.error) {\n                M.toast({\n                    html: data.error, classes: \"#c62828 red darken-3\"\n                });\n            } else {\n                M.toast({\n                    html: `${entityClass} agregado exitosamente`,\n                    classes: \"#388e3c green darken-2\",\n                });\n                history.push(\"/admin\");\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n};\n\nconst postearDeleteEntity = (props) => {\n    const history = props.historyProp\n    const entityClass = props.entityClass\n    const id = props.id\n\n    fetch(`${apiServer}/${entityClass}/${id}`, {\n        method: 'DELETE',\n        headers: {\n        }\n    }).then((res) => res.json())\n        .then((data) => {\n            if (data.error) {\n                M.toast({\n                    html: data.error, classes: \"#c62828 red darken-3\"\n                });\n            } else {\n                M.toast({\n                    html: `${entityClass} eliminado exitosamente`,\n                    classes: \"#388e3c green darken-2\",\n                });\n                history.push(\"/admin\");\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n}\n\nconst postearGetEntity = (props) => {\n    const entityClass = props.entityClass\n    const functionD = props.fx\n\n    fetch(`${apiServer}/${entityClass}`, {\n        headers: {\n        }\n    })\n        .then((res) => {\n            if (res.ok) {\n                return res.json()\n            }\n        })\n        .then((result) => {\n            functionD(result)\n        })\n        .catch((err => {\n            console.log(err)\n        }))\n}\n\nexport { postearUpdateEntity, postearAddEntity, postearDeleteEntity, postearGetEntity };"]},"metadata":{},"sourceType":"module"}