{"ast":null,"code":"var _jsxFileName = \"/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/AddBanner.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory\n/*, Link */\n} from \"react-router-dom\";\nimport M from 'materialize-css';\nimport '../../styles/AddProveedor.css';\nimport AdminOptions from '../AdminOptions';\nimport BannerCategories from '../BannerCategories';\nimport uploadImage from \"../CloudImageUpload\";\nimport { postearAddEntity } from \"./FetchFunctions\";\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('.autocomplete');\n  M.Autocomplete.init(elems, {});\n});\n\nconst AddBanner = () => {\n  _s();\n\n  const history = useHistory();\n  const [url, setUrl] = useState(null);\n  const [urlTemp, setUrlTemp] = useState(null);\n  const [image, setimage] = useState(null);\n  const [category, setcategory] = useState(null);\n  const [postear, setpostear] = useState(false);\n  useEffect(() => {\n    if (postear) {\n      postearAdd();\n    }\n  }, [url]);\n\n  const agregarBanner = e => {\n    e.preventDefault();\n    const asubir = image;\n    console.log(asubir);\n    uploadImage({\n      image: asubir,\n      fx: setUrl\n    });\n    setpostear(true); //setUrl(urlTemp)\n\n    console.log(url);\n  };\n\n  const postearAdd = () => {\n    if (image && category) {\n      postearAddEntity({\n        historyProp: history,\n        entityClass: \"banners\",\n        atributes: {\n          \"banner\": url,\n          \"category\": category\n        }\n      });\n    } else {\n      M.toast({\n        html: \"Llenar todos los campos\",\n        classes: \"#c62828 red darken-3\"\n      });\n    }\n  };\n\n  const loadCategories = () => {\n    var categories = [\"HOME\", \"SCHEDULE\", \"CLASS\", \"COURRIER\", \"PAYMENTMETHODS\"];\n    categories.sort();\n    addOptions(\"Category\", categories);\n  };\n\n  const addOptions = (idElement, array) => {\n    var select = document.getElementsById(idElement)[0];\n    array.forEach(element => {\n      var option = document.createElement(\"option\");\n      option.text = array[element];\n      select.add(option);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AdminOptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col s8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    onLoad: loadCategories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    class: \"col s12\",\n    id: \"bannerform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BannerCategories, {\n    val: category,\n    fx: setcategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"file-field input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"btn\",\n    id: \"buttonUploadImages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, \"Cargar imagen\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => setimage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"file-path-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"file-path validate\",\n    type: \"text\",\n    value: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      agregarBanner(e);\n\n      if (image && category && url) {\n        postearAdd();\n      }\n    },\n    class: \"waves-effect waves-light red lighten-2 btn-large\",\n    id: \"butonSubmit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Agregar Banner\")))))));\n};\n\n_s(AddBanner, \"WGoHx417Xuy/Rb+Ad31VEkyAsLk=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddBanner;\nexport default AddBanner;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddBanner\");","map":{"version":3,"sources":["/home/cristian/Documentos/ProyectosGIT/exposicionVirtualFrontend/src/components/AdminPanel/AddBanner.js"],"names":["React","useEffect","useState","useHistory","M","AdminOptions","BannerCategories","uploadImage","postearAddEntity","document","addEventListener","elems","querySelectorAll","Autocomplete","init","AddBanner","history","url","setUrl","urlTemp","setUrlTemp","image","setimage","category","setcategory","postear","setpostear","postearAdd","agregarBanner","e","preventDefault","asubir","console","log","fx","historyProp","entityClass","atributes","toast","html","classes","loadCategories","categories","sort","addOptions","idElement","array","select","getElementsById","forEach","element","option","createElement","text","add","target","files"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory/*, Link */ } from \"react-router-dom\";\nimport M from 'materialize-css'\nimport '../../styles/AddProveedor.css'\nimport AdminOptions from '../AdminOptions';\nimport BannerCategories from '../BannerCategories';\nimport uploadImage from \"../CloudImageUpload\";\nimport { postearAddEntity } from \"./FetchFunctions\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('.autocomplete');\n  M.Autocomplete.init(elems, {});\n});\n\nconst AddBanner = () => {\n  const history = useHistory();\n  const [url, setUrl] = useState(null);\n  const [urlTemp, setUrlTemp] = useState(null);\n  const [image, setimage] = useState(null)\n  const [category, setcategory] = useState(null)\n  const [postear, setpostear] = useState(false)\n\n  useEffect(() => {\n    if (postear) {\n      postearAdd();\n    }\n  },[url]);\n\n  const agregarBanner = (e) => {\n    e.preventDefault();\n    const asubir = image;\n    console.log(asubir)\n    uploadImage({ image: asubir, fx: setUrl });\n    setpostear(true);\n    //setUrl(urlTemp)\n    console.log(url)\n\n  }\n\n  const postearAdd = () => {\n    if (image && category) {\n      postearAddEntity({\n        historyProp: history, entityClass: \"banners\", atributes: {\n          \"banner\": url,\n          \"category\": category\n        }\n      });\n    } else {\n      M.toast({ html: \"Llenar todos los campos\", classes: \"#c62828 red darken-3\" });\n    }\n  };\n\n  const loadCategories = () => {\n    var categories = [\"HOME\", \"SCHEDULE\", \"CLASS\", \"COURRIER\", \"PAYMENTMETHODS\"];\n    categories.sort();\n    addOptions(\"Category\", categories);\n  }\n\n  const addOptions = (idElement, array) => {\n    var select = document.getElementsById(idElement)[0];\n    array.forEach(element => {\n      var option = document.createElement(\"option\");\n      option.text = array[element];\n      select.add(option);\n    });\n  }\n\n  return (\n    <div className=\"row\">\n      <AdminOptions />\n      <div className='col s8'>\n        <div class=\"row\" onLoad={loadCategories}>\n          <form class=\"col s12\" id=\"bannerform\">\n            <BannerCategories val={category} fx={setcategory} />\n            <form action=\"#\">\n              <div class=\"file-field input-field\">\n                <div class=\"btn\" id='buttonUploadImages'>\n                  <span>Cargar imagen</span>\n                  <input type=\"file\" onChange={(e) => setimage(e.target.files[0])} />\n                </div>\n                <div class=\"file-path-wrapper\">\n                  <input class=\"file-path validate\" type=\"text\" value={url} />\n                </div>\n              </div>\n            </form>\n            <div class=\"row\">\n              <div class=\"col s12\">\n                <button onClick={(e) => {\n                  agregarBanner(e);\n                  if (image &&\n                    category && url) {\n                    postearAdd();\n                  }\n                }} class=\"waves-effect waves-light red lighten-2 btn-large\" id=\"butonSubmit\">Agregar Banner</button>\n              </div>\n            </div>\n\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddBanner;\n"]},"metadata":{},"sourceType":"module"}